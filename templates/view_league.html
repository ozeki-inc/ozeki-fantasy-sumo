{% extends "default.html" %}
{% block body %}
    <h1> League: {{ results_dict['league_id'][:8] }} </h1>

    <ul>
	    <li>Full ID: {{ results_dict['league_id'] }}</li>
	    <li>Tournament: {{ results_dict['bansho'] }}</li>
	    <li>Params: {{ results_dict['league_string'] }}
    </ul>

    <h2> Leaderboard </h2>

    <table>
        {% for i in range(results_dict['n_players']) %}
            <tr>
                <th> {{ results_dict[i]['player_id'] }}: {{ results_dict[i]['total'] }} </th>
            <tr>
        {% endfor %}
    </table>


    <h2> Rosters </h2>

    <table>
        <tr>
            {% for i in range(results_dict['n_players']) %}
            <th colspan="3"> {{ results_dict[i]['player_id'] }} </th>
            {% endfor %}
        </tr>

            {% for j in range(results_dict['roster_size']) %}

            <tr>
                {% for i in range(results_dict['n_players']) %}

		<td> {{ results_dict[i]['wrestlers'][j] }} </td>
		<td> <img src="{{ results_dict[results_dict[i]['wrestlers'][j]] }}" width=200px></td>
		<td> {{ results_dict[i]['total_by_wrestler'][results_dict[i]['wrestlers'][j]] }}</td>  

            {% endfor %}
            </tr>
        
        {% endfor %}
    </table>

    <h2> Day Results </h2>

    {% for d in results_dict['days_played'][::-1] %}

    <h3> Day {{ d }} </h3>

        {% for p in range(results_dict['n_players']) %}

            <h4> Player {{ results_dict[p]['player_id'] }} </h4>
                <table>
                    <tr>
                        <th>Winner</th>
                        <th>Winner Rank </th>
                        <th>Winner Record </th>
                        <th>Loser </th>
                        <th>Loser Rank </th>
                        <th>Loser Record </th>
                        <th> Method </th>
                        <th> Pts. Earned </th>
                    </tr>
                {% for m in results_dict[p][d]['matches'] %}
                    <tr>
                        <td>{{ m['winner'] }}</td>
                        <td>{{ m['rank_winner'] }}</td>
                        <td>{{ m['record_winner'] }}</td>
                        <td>{{ m['loser'] }}</td>
                        <td>{{ m['rank_loser'] }}</td>
                        <td>{{ m['record_loser'] }}</td>
                        <td>{{ m['method'] }}</td>
                        <td>{{ m['points'] }}</td>
                    </tr>
                {% endfor %}
                </table>

        {% endfor %}

    {% endfor %}
{% endblock %}
